# 三、线性表

## 3.2 线性表的定义

线性表：零个或多个数据元素的有限序列

线性表元素的个数n定义为线性表的长度，当n=0时，称为空表

## 3.4 线性表的顺序存储结构

### 3.4.2 顺序存储方式

描述顺序存储结构需要三个属性：

- 存储空间的起始位置：数组data，它的存储位置就是存储空间的存储位置
- 线性表的最大存储容量：数组长度MAXSIZE。
- 
- 线性表的当前长度：length。

length<=MAXSIZE

### 3.5 顺序存储结构的插入和删除

线性表的存取时间性能为$O(1)$。通常把具有这一特点的存储结构称为随机存取结构。

线性表的顺序存储结构读取数据时间复杂度为O(1)，插入或删除时，时间复杂度为O(n)。

### 3.5.4 线性表顺序存储结构的优缺点

优点：

- 无需为表示表中元素之间的逻辑关系而增加额外的存储空间
- 可以快速地存取表中任一位置的元素

缺点：

- 插入和删除操作需要移动大量元素
- 当线性表长度变化较大时，难以确定存储空间的容量
- 造成存储空间的“碎片” 

## 3.7 单链表的读取

单链表读取数据的时间复杂度为O(n)。

## 3.8 单链表的插入和删除

单链表插入或删除一个节点时间复杂度是O(n)。但如果在第i个位置插入10个结点，对顺序存储结构来说每次都要移动n-i个节点，每次都是O(n)。单链表只需第一次时找到第i个位置的指针，此时为O(n)，接下来都是简单地通过赋值移动指针，时间复杂度为O(1)。

**对于插入或删除数据越频繁的操作，单链表的效率优势就越明显。**

## 3.9 单链表的整表创建

头插法

```c++
void CreateListHead(LinkList *L, int n) 
{
	LinkList p;
	int i;
	srand(time(0));                         /* 初始化随机数种子 */
	*L = (LinkList)malloc(sizeof(Node));
	(*L)->next = NULL;                      /*  先建立一个带头结点的单链表 */
	for (i=0; i<n; i++) 
	{
		p = (LinkList)malloc(sizeof(Node)); /*  生成新结点 */
		p->data = rand()%100+1;             /*  随机生成100以内的数字 */
		p->next = (*L)->next;    
		(*L)->next = p;						/*  插入到表头 */
	}
}
```

尾插法

```c++
void CreateListTail(LinkList *L, int n) 
{
	LinkList p,r;
	int i;
	srand(time(0));                      /* 初始化随机数种子 */
	*L = (LinkList)malloc(sizeof(Node)); /* L为整个线性表 */
	r=*L;                                /* r为指向尾部的结点 */
	for (i=0; i<n; i++) 
	{
		p = (Node *)malloc(sizeof(Node)); /*  生成新结点 */
		p->data = rand()%100+1;           /*  随机生成100以内的数字 */
		r->next=p;                        /* 将表尾终端结点的指针指向新结点 */
		r = p;                            /* 将当前的新结点定义为表尾终端结点 */
	}
	r->next = NULL;                       /* 表示当前链表结束 */
}
```

## 3.10 单链表的整表删除

```c++
Status ClearList(LinkList *L)
{ 
	LinkList p,q;
	p=(*L)->next;           /*  p指向第一个结点 */
	while(p)                /*  没到表尾 */
	{
		q=p->next;
		free(p);
		p=q;
	}
	(*L)->next=NULL;        /* 头结点指针域为空 */
	return OK;
}
```

## 3.11 单链表结构与顺序存储结构的优缺点

 存储分配方式：

- 顺序存储结构用一段连续存储单元依次存储线性表的数据元素
- 单链表采用链式存储结构，用一组任意的存储但隐患存放线性表元素

时间性能：

- 查找
  - 顺序存储结构O(1)
  - 单链表O(n)
- 插入和删除
  - 顺序存储结构O(n)
  - 单链表在找出位置的指针后，插入和删除时间复杂度仅为O(1)

空间性能：

- 顺序存储结构需要预分配存储空间，分大了浪费，分小了易发生上溢
- 单链表不需要分配存储空间，只要有就可以分配，元素个数也不受限制

> 总结：
>
> - 若线性表需要频繁查找，很少进行插入和删除时，宜采用顺序存储结构。
> - 当线性表中的元素个数变化较大或根本不知道有多大时，最好用单链表结构。

## 3.12 静态链表

数组的元素由两个数据域组成，data和cur。数据域data，存放数据元素，cur相当于单链表中的next指针，存放该元素的后继在数组中的下标，cur叫做游标。

这种用数组描述的链表叫做静态链表。

静态链表的优缺点：

优点：在插入和删除操作时，只需要修改游标，不需要移动元素，从而改进了在顺序存储结构中插入和删除操作需要移动大量元素的缺点。

缺点：

1. 没有解决连续存储分配带来的表长难以确定的问题
2. 失去了顺序存储结构随机存取的特性

## 3.13 循环链表

循环链表和单链表的主要差异就在于循环的判断条件上，原来判断p->next是否为空，现在则是p->next不等于头结点，则循环未结束。

尾指针是指向终端结点的指针，有利于节省访问终端结点的操作数和循环链表的合并。

### 3.14 双向链表

双向链表是在单链表的每个结点中，再设置一个指向其前驱结点的指针域。

双向链表的目的是用空间性能来换时间性能，每个结点多了一份指针。
